function updateNav(){var a=mr_scrollTop;return a<=0?(mr_navFixed&&(mr_navFixed=!1,mr_nav.removeClass("fixed")),mr_outOfSight&&(mr_outOfSight=!1,mr_nav.removeClass("outOfSight")),void(mr_navScrolled&&(mr_navScrolled=!1,mr_nav.removeClass("scrolled")))):void(a>mr_firstSectionHeight?mr_navScrolled||(mr_nav.addClass("scrolled"),mr_navScrolled=!0):(a>mr_navOuterHeight?(mr_navFixed||(mr_nav.addClass("fixed"),mr_navFixed=!0),a>2*mr_navOuterHeight?mr_outOfSight||(mr_nav.addClass("outOfSight"),mr_outOfSight=!0):mr_outOfSight&&(mr_outOfSight=!1,mr_nav.removeClass("outOfSight"))):(mr_navFixed&&(mr_navFixed=!1,mr_nav.removeClass("fixed")),mr_outOfSight&&(mr_outOfSight=!1,mr_nav.removeClass("outOfSight"))),mr_navScrolled&&(mr_navScrolled=!1,mr_nav.removeClass("scrolled"))))}function capitaliseFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)}function masonryFlyIn(){var a=$(".masonryFlyIn .masonry-item"),b=0;a.each(function(){var a=$(this);setTimeout(function(){a.addClass("fadeIn")},b),b+=170})}function setupFloatingProjectFilters(){mr_floatingProjectSections=[],$(".filters.floating").closest("section").each(function(){var a=$(this);mr_floatingProjectSections.push({section:a.get(0),outerHeight:a.outerHeight(),elemTop:a.offset().top,elemBottom:a.offset().top+a.outerHeight(),filters:a.find(".filters.floating"),filersHeight:a.find(".filters.floating").outerHeight(!0)})})}function updateFloatingFilters(){for(var a=mr_floatingProjectSections.length;a--;){var b=mr_floatingProjectSections[a];b.elemTop<mr_scrollTop&&"undefined"==typeof window.mr_variant?(b.filters.css({position:"fixed",top:"16px",bottom:"auto"}),mr_navScrolled&&b.filters.css({transform:"translate3d(-50%,48px,0)"}),mr_scrollTop>b.elemBottom-70&&(b.filters.css({position:"absolute",bottom:"16px",top:"auto"}),b.filters.css({transform:"translate3d(-50%,0,0)"}))):b.filters.css({position:"absolute",transform:"translate3d(-50%,0,0)"})}}function prepareSignup(a){var b=jQuery("<form />"),c=a.contents().find("form").attr("action");return/list-manage\.com/.test(c)&&(c=c.replace("/post?","/post-json?")+"&c=?","//"==c.substr(0,2)&&(c="http:"+c)),/createsend\.com/.test(c)&&(c+="?callback=?"),b.attr("action",c),a.contents().find("input, select, textarea").not('input[type="submit"]').each(function(){$(this).clone().appendTo(b)}),b}var mr_firstSectionHeight,mr_nav,mr_navOuterHeight,mr_navScrolled=!1,mr_navFixed=!1,mr_outOfSight=!1,mr_floatingProjectSections,mr_scrollTop=0;$(document).ready(function(){"use strict";function b(a){var b,c;return $(a).find('.validate-required[type="checkbox"]').each(function(){$('[name="'+$(this).attr("name")+'"]:checked').length||(c=1,b=$(this).attr("name").replace("[]",""),a.find(".form-error").text("Please tick at least one "+b+" box."))}),$(a).find(".validate-required").each(function(){""===$(this).val()?($(this).addClass("field-error"),c=1):$(this).removeClass("field-error")}),$(a).find(".validate-email").each(function(){/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$(this).removeClass("field-error"):($(this).addClass("field-error"),c=1)}),a.find(".field-error").length||a.find(".form-error").fadeOut(1e3),c}function c(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}if($(".inner-link").each(function(){var a=$(this).attr("href");"#"!==a.charAt(0)&&$(this).removeClass("inner-link")}),$(".inner-link").length&&$(".inner-link").smoothScroll({offset:-55,speed:800}),addEventListener("scroll",function(){mr_scrollTop=window.pageYOffset},!1),$(".background-image-holder").each(function(){var a=$(this).children("img").attr("src");$(this).css("background",'url("'+a+'")'),$(this).children("img").hide(),$(this).css("background-position","initial")}),setTimeout(function(){$(".background-image-holder").each(function(){$(this).addClass("fadeIn")})},200),$('[data-toggle="tooltip"]').tooltip(),$("ul[data-bullet]").each(function(){var a=$(this).attr("data-bullet");$(this).find("li").prepend('<i class="'+a+'"></i>')}),$(".progress-bar").each(function(){$(this).css("width",$(this).attr("data-progress")+"%")}),$("nav").hasClass("fixed")||$("nav").hasClass("absolute")?$("body").addClass("nav-is-overlay"):($(".nav-container").css("min-height",$("nav").outerHeight(!0)),$(window).resize(function(){$(".nav-container").css("min-height",$("nav").outerHeight(!0))}),$(window).width()>768&&$(".parallax:nth-of-type(1) .background-image-holder").css("top",-$("nav").outerHeight(!0)),$(window).width()>768&&$("section.fullscreen:nth-of-type(1)").css("height",$(window).height()-$("nav").outerHeight(!0))),$("nav").hasClass("bg-dark")&&$(".nav-container").addClass("bg-dark"),mr_nav=$("body .nav-container nav:first"),mr_navOuterHeight=$("body .nav-container nav:first").outerHeight(),window.addEventListener("scroll",updateNav,!1),$(".menu > li > ul").each(function(){var a=$(this).offset(),b=a.left+$(this).outerWidth(!0);if(b>$(window).width()&&!$(this).hasClass("mega-menu"))$(this).addClass("make-right");else if(b>$(window).width()&&$(this).hasClass("mega-menu")){var c=$(window).width()-a.left,d=$(this).outerWidth(!0)-c;$(this).css("margin-left",-d)}}),$(".mobile-toggle").click(function(){$(".nav-bar").toggleClass("nav-open"),$(this).toggleClass("active")}),$(".menu li").click(function(a){a||(a=window.event),a.stopPropagation(),$(this).find("ul").length?$(this).toggleClass("toggle-sub"):$(this).parents(".toggle-sub").removeClass("toggle-sub")}),$(".module.widget-handle").click(function(){$(this).toggleClass("toggle-widget-handle")}),$(".search-widget-handle .search-form input").click(function(a){a||(a=window.event),a.stopPropagation()}),$(".offscreen-toggle").length?$("body").addClass("has-offscreen-nav"):$("body").removeClass("has-offscreen-nav"),$(".offscreen-toggle").click(function(){$(".main-container").toggleClass("reveal-nav"),$("nav").toggleClass("reveal-nav"),$(".offscreen-container").toggleClass("reveal-nav")}),$(".main-container").click(function(){$(this).hasClass("reveal-nav")&&($(this).removeClass("reveal-nav"),$(".offscreen-container").removeClass("reveal-nav"),$("nav").removeClass("reveal-nav"))}),$(".offscreen-container a").click(function(){$(".offscreen-container").removeClass("reveal-nav"),$(".main-container").removeClass("reveal-nav"),$("nav").removeClass("reveal-nav")}),$(".projects").each(function(){var a="";$(this).find(".project").each(function(){var b=$(this).attr("data-filter").split(",");b.forEach(function(b){a.indexOf(b)==-1&&(a+='<li data-filter="'+b+'">'+capitaliseFirstLetter(b)+"</li>")}),$(this).closest(".projects").find("ul.filters").empty().append('<li data-filter="all" class="active">All</li>').append(a)})}),$(".filters li").click(function(){var a=$(this).attr("data-filter");$(this).closest(".filters").find("li").removeClass("active"),$(this).addClass("active"),$(this).closest(".projects").find(".project").each(function(){var b=$(this).data("filter");b.indexOf(a)==-1?$(this).addClass("inactive"):$(this).removeClass("inactive")}),"all"==a&&$(this).closest(".projects").find(".project").removeClass("inactive")}),$(".tweets-feed").each(function(a){$(this).attr("id","tweets-"+a)}).each(function(a){function b(b){for(var c=b.length,d=0,e=document.getElementById("tweets-"+a),f='<ul class="slides">';d<c;)f+="<li>"+b[d]+"</li>",d++;return f+="</ul>",e.innerHTML=f,f}twitterFetcher.fetch($("#tweets-"+a).attr("data-widget-id"),"",5,!0,!0,!0,"",!1,b)}),$(".instafeed").length&&(jQuery.fn.spectragram.accessData={accessToken:"1406933036.fedaafa.feec3d50f5194ce5b705a1f11a107e0b",clientID:"fedaafacf224447e8aef74872d3820a1"},$(".instafeed").each(function(){var a=$(this).attr("data-user-name")+"_";$(this).children("ul").spectragram("getUserFeed",{query:a,max:12})})),$(".flickr-feed").length&&$(".flickr-feed").each(function(){var a=$(this).attr("data-user-id"),b=$(this).attr("data-album-id");$(this).flickrPhotoStream({id:a,setId:b,container:'<li class="masonry-item" />'})}),$(".slider-all-controls").flexslider({start:function(a){a.find(".slides li:first-child").find(".fs-vid-background video").length&&a.find(".slides li:first-child").find(".fs-vid-background video").get(0).play()},after:function(a){a.find(".fs-vid-background video").length&&(a.find("li:not(.flex-active-slide)").find(".fs-vid-background video").length&&a.find("li:not(.flex-active-slide)").find(".fs-vid-background video").get(0).pause(),a.find(".flex-active-slide").find(".fs-vid-background video").length&&a.find(".flex-active-slide").find(".fs-vid-background video").get(0).play())}}),$(".slider-paging-controls").flexslider({animation:"slide",directionNav:!1}),$(".slider-arrow-controls").flexslider({controlNav:!1}),$(".slider-thumb-controls .slides li").each(function(){var a=$(this).find("img").attr("src");$(this).attr("data-thumb",a)}),$(".slider-thumb-controls").flexslider({animation:"slide",controlNav:"thumbnails",directionNav:!0}),$(".logo-carousel").flexslider({minItems:1,maxItems:4,move:1,itemWidth:200,itemMargin:0,animation:"slide",slideshow:!0,slideshowSpeed:3e3,directionNav:!1,controlNav:!1}),$(".lightbox-grid li a").each(function(){var a=$(this).closest(".lightbox-grid").attr("data-gallery-title");$(this).attr("data-lightbox",a)}),$("iframe[data-provider]").each(function(){var a=$(this).attr("data-provider"),b=$(this).attr("data-video-id"),c=$(this).attr("data-autoplay"),d="";"vimeo"==a?(d="http://player.vimeo.com/video/"+b+"?badge=0&title=0&byline=0&title=0&autoplay="+c,$(this).attr("data-src",d)):"youtube"==a?(d="https://www.youtube.com/embed/"+b+"?showinfo=0&autplay="+c,$(this).attr("data-src",d)):console.log("Only Vimeo and Youtube videos are supported at this time")}),$(".foundry_modal").length){$('<div class="modal-screen">').appendTo("body")}if($(".foundry_modal").click(function(){$(this).addClass("modal-acknowledged")}),$(".modal-container").each(function(a){if($(this).find("iframe[src]").length){$(this).find(".foundry_modal").addClass("iframe-modal");var b=$(this).find("iframe");b.attr("src","")}$(this).find(".btn-modal").attr("modal-link",a),$(this).find(".foundry_modal").clone().appendTo("body").attr("modal-link",a).wrapInner('<div class="modal-data" style="height: 100%; overflow-y: scroll;">').prepend($('<i class="ti-close close-modal">'))}),$(".btn-modal").click(function(){var a=$("section").closest("body").find('.foundry_modal[modal-link="'+$(this).attr("modal-link")+'"]');if($(".modal-screen").toggleClass("reveal-modal"),a.find("iframe").length){if("1"===a.find("iframe").attr("data-autoplay"))var b="&autoplay=1";a.find("iframe").attr("src",a.find("iframe").attr("data-src")+b)}return a.toggleClass("reveal-modal"),!1}),$(".foundry_modal[data-time-delay]").each(function(){var a=$(this),b=a.attr("data-time-delay");a.prepend($('<i class="ti-close close-modal">')),"undefined"!=typeof a.attr("data-cookie")?mr_cookies.hasItem(a.attr("data-cookie"))||setTimeout(function(){a.addClass("reveal-modal"),$(".modal-screen").addClass("reveal-modal")},b):setTimeout(function(){a.addClass("reveal-modal"),$(".modal-screen").addClass("reveal-modal")},b)}),$(".foundry_modal[data-hide-after]").each(function(){var a=$(this),b=a.attr("data-hide-after");"undefined"!=typeof a.attr("data-cookie")?mr_cookies.hasItem(a.attr("data-cookie"))||setTimeout(function(){a.hasClass("modal-acknowledged")||(a.removeClass("reveal-modal"),$(".modal-screen").removeClass("reveal-modal"))},b):setTimeout(function(){a.hasClass("modal-acknowledged")||(a.removeClass("reveal-modal"),$(".modal-screen").removeClass("reveal-modal"))},b)}),$(".close-modal:not(.modal-strip .close-modal)").click(function(){var a=$(this).closest(".foundry_modal");a.toggleClass("reveal-modal"),"undefined"!=typeof a.attr("data-cookie")&&mr_cookies.setItem(a.attr("data-cookie"),"true",1/0),a.find("iframe").length&&a.find("iframe").attr("src",""),$(".modal-screen").toggleClass("reveal-modal")}),$(".modal-screen").click(function(){$(".foundry_modal.reveal-modal").find("iframe").length&&$(".foundry_modal.reveal-modal").find("iframe").attr("src",""),$(".foundry_modal.reveal-modal").toggleClass("reveal-modal"),$(this).toggleClass("reveal-modal")}),$(document).keyup(function(a){27==a.keyCode&&($(".foundry_modal").find("iframe").length&&$(".foundry_modal").find("iframe").attr("src",""),$(".foundry_modal").removeClass("reveal-modal"),$(".modal-screen").removeClass("reveal-modal"))}),$(".modal-strip").each(function(){$(this).find(".close-modal").length||$(this).append($('<i class="ti-close close-modal">'));var a=$(this);"undefined"!=typeof a.attr("data-cookie")?mr_cookies.hasItem(a.attr("data-cookie"))||setTimeout(function(){a.addClass("reveal-modal")},1e3):setTimeout(function(){a.addClass("reveal-modal")},1e3)}),$(".modal-strip .close-modal").click(function(){var a=$(this).closest(".modal-strip");return"undefined"!=typeof a.attr("data-cookie")&&mr_cookies.setItem(a.attr("data-cookie"),"true",1/0),$(this).closest(".modal-strip").removeClass("reveal-modal"),!1}),$("section").closest("body").find(".close-iframe").click(function(){$(this).closest(".modal-video").toggleClass("reveal-modal"),$(this).siblings("iframe").attr("src",""),$(this).siblings("video").get(0).pause()}),$(".checkbox-option").on("click",function(){$(this).toggleClass("checked");var a=$(this).find("input");a.prop("checked")===!1?a.prop("checked",!0):a.prop("checked",!1)}),$(".radio-option").click(function(){var a=$(this).hasClass("checked"),b=$(this).find("input").attr("name");a||($('input[name="'+b+'"]').parent().removeClass("checked"),$(this).addClass("checked"),$(this).find("input").prop("checked",!0))}),$(".accordion li").click(function(){$(this).closest(".accordion").hasClass("one-open")?($(this).closest(".accordion").find("li").removeClass("active"),$(this).addClass("active")):$(this).toggleClass("active")}),$(".tabbed-content").each(function(){$(this).append('<ul class="content"></ul>')}),$(".tabs li").each(function(){var a=$(this),b="";a.is(".tabs>li:first-child")&&(b=' class="active"');var c=a.find(".tab-content").detach().wrap("<li"+b+"></li>").parent();a.closest(".tabbed-content").find(".content").append(c)}),$(".tabs li").click(function(){$(this).closest(".tabs").find("li").removeClass("active"),$(this).addClass("active");var a=$(this).index()+1;$(this).closest(".tabbed-content").find(".content>li").removeClass("active"),$(this).closest(".tabbed-content").find(".content>li:nth-of-type("+a+")").addClass("active")}),$("section").closest("body").find(".local-video-container .play-button").click(function(){$(this).siblings(".background-image-holder").removeClass("fadeIn"),$(this).siblings(".background-image-holder").css("z-index",-1),$(this).css("opacity",0),$(this).siblings("video").get(0).play()}),$("section").closest("body").find(".player").each(function(){var a=$(this).closest("section");a.find(".container").addClass("fadeOut");var b=$(this).attr("data-video-id"),c=$(this).attr("data-start-at");$(this).attr("data-property","{videoURL:'http://youtu.be/"+b+"',containment:'self',autoPlay:true, mute:true, startAt:"+c+", opacity:1, showControls:false}")}),$(".player").length&&$(".player").each(function(){var a=$(this).closest("section"),b=a.find(".player");b.YTPlayer(),b.on("YTPStart",function(b){a.find(".container").removeClass("fadeOut"),a.find(".masonry-loader").addClass("fadeOut")})}),$(".map-holder").click(function(){$(this).addClass("interact")}),$(".map-holder").length&&$(window).scroll(function(){$(".map-holder.interact").length&&$(".map-holder.interact").removeClass("interact")}),$(".countdown").length&&$(".countdown").each(function(){var a=$(this).attr("data-date");$(this).countdown(a,function(a){$(this).text(a.strftime("%D days %H:%M:%S"))})}),$("form.form-email, form.form-newsletter").submit(function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var g,h,i,j,k,l,m,n,o,p,c=$(this).closest("form.form-email, form.form-newsletter"),d=c.find('button[type="submit"]'),e=0,f=c.attr("original-error");if(h=$(c).find("iframe.mail-list-form"),c.find(".form-error, .form-success").remove(),d.attr("data-text",d.text()),c.append('<div class="form-error" style="display: none;">'+c.attr("data-error")+"</div>"),c.append('<div class="form-success" style="display: none;">'+c.attr("data-success")+"</div>"),o=c.find(".form-error"),p=c.find(".form-success"),c.addClass("attempted-submit"),c.attr("data-form-type").indexOf("nob")>-1){var q=c.attr("data-form-type");if(console.log("Using nob type mailer engine"),"undefined"!=typeof f&&f!==!1&&o.html(f),i=$(c).find('[name="message"]').val(),j="nob"==q?$(c).find(".signup-email-field").val():$(c).find('[name="email"]').val(),k="nob"==q?$(c).find(".signup-name-field").val():$(c).find('[name="name"]').val(),"nob"==q&&(l=$(c).find("input.signup-first-name-field").length?$(c).find("input.signup-first-name-field").val():$(c).find(".signup-name-field").val(),m=$(c).find(".signup-last-name-field").val()),1!==b(c)){c.removeClass("attempted-submit"),o.fadeOut(200),d.html(jQuery("<div />").addClass("form-loading")).attr("disabled","disabled");try{var r;switch(q){case"nob":r=JSON.stringify({type:"subscribe",firstName:l,lastName:m,fullName:k,email:j,from:"info@westerncyber.club"});break;case"nobPrez":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"president@westerncyber.club",from:j,message:i,emailSubject:"Message to President of Western Cyber Security"});break;case"nobEvp":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"evp@westerncyber.club",from:j,message:i,emailSubject:"Message to Executive Vice President of Western Cyber Security"});break;case"nobComs":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"communications@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Communications of Western Cyber Security"});break;case"nobEd":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"education@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Education of Western Cyber Security"});break;case"nobFin":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"finance@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Finance of Western Cyber Security"});break;case"nobOps":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"operations@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Operations of Western Cyber Security"});break;case"nobTech":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"technology@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Technology of Western Cyber Security"});break;case"nobSpons":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"sponsorships@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Sponsorships of Western Cyber Security"});break;case"nobMark":r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"marketing@westerncyber.club",from:j,message:i,emailSubject:"Message to VP Marketing of Western Cyber Security"});break;default:r=JSON.stringify({type:"from",firstName:l,lastName:m,fullName:k,email:"info@westerncyber.club",from:j,message:i,emailSubject:"Message to Western Cyber Security"})}$.ajax({url:"mail/mailer.php",crossDomain:!1,data:r,method:"POST",cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",success:function(a){console.log(a),"success"!=a.result?(o.attr("original-error",o.text()),o.html(a.message).fadeIn(1e3),p.fadeOut(1e3),d.html(d.attr("data-text")).removeAttr("disabled")):(d.html(d.attr("data-text")).removeAttr("disabled"),n=c.attr("success-redirect"),"undefined"!=typeof n&&n!==!1&&""!==n&&(window.location=n),c.find('input[type="text"]').val(""),c.find("textarea").val(""),p.fadeIn(1e3),o.fadeOut(1e3),setTimeout(function(){p.fadeOut(500)},5e3))},error:function(a){console.log("Nob mailer error:"),console.log(a),o.attr("original-error",o.text()),o.html(a).fadeIn(1e3),p.fadeOut(1e3),d.html(d.attr("data-text")).removeAttr("disabled")}})}catch(a){console.log(a),o.attr("original-error",o.text()),o.html(a.message).fadeIn(1e3),p.fadeOut(1e3),setTimeout(function(){o.fadeOut(500)},5e3),d.html(d.attr("data-text")).removeAttr("disabled")}}else o.fadeIn(1e3),setTimeout(function(){o.fadeOut(500)},5e3)}else if(h.length&&"undefined"!=typeof h.attr("srcdoc")&&""!==h.attr("srcdoc"))if(console.log("Mail list form signup detected."),"undefined"!=typeof f&&f!==!1&&o.html(f),j=$(c).find(".signup-email-field").val(),k=$(c).find(".signup-name-field").val(),l=$(c).find("input.signup-first-name-field").length?$(c).find("input.signup-first-name-field").val():$(c).find(".signup-name-field").val(),m=$(c).find(".signup-last-name-field").val(),1!==b(c)){g=prepareSignup(h),g.find("#mce-EMAIL, #fieldEmail").val(j),g.find("#mce-LNAME, #fieldLastName").val(m),g.find("#mce-FNAME, #fieldFirstName").val(l),g.find("#mce-NAME, #fieldName").val(k),c.removeClass("attempted-submit"),o.fadeOut(200),d.html(jQuery("<div />").addClass("form-loading")).attr("disabled","disabled");try{$.ajax({url:g.attr("action"),crossDomain:!0,data:g.serialize(),method:"GET",cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",success:function(a){"success"!=a.result&&200!=a.Status?(o.attr("original-error",o.text()),o.html(a.msg).fadeIn(1e3),p.fadeOut(1e3),d.html(d.attr("data-text")).removeAttr("disabled")):(d.html(d.attr("data-text")).removeAttr("disabled"),n=c.attr("success-redirect"),"undefined"!=typeof n&&n!==!1&&""!==n&&(window.location=n),c.find('input[type="text"]').val(""),c.find("textarea").val(""),p.fadeIn(1e3),o.fadeOut(1e3),setTimeout(function(){p.fadeOut(500)},5e3))}})}catch(a){o.attr("original-error",o.text()),o.html(a.message).fadeIn(1e3),p.fadeOut(1e3),setTimeout(function(){o.fadeOut(500)},5e3),d.html(d.attr("data-text")).removeAttr("disabled")}}else o.fadeIn(1e3),setTimeout(function(){o.fadeOut(500)},5e3);else console.log("Send email form detected."),"undefined"!=typeof f&&f!==!1&&o.text(f),e=b(c),1===e?(o.fadeIn(200),setTimeout(function(){o.fadeOut(500)},3e3)):(c.removeClass("attempted-submit"),o.fadeOut(200),d.html(jQuery("<div />").addClass("form-loading")).attr("disabled","disabled"),jQuery.ajax({type:"POST",url:"mail/mail.php",data:c.serialize()+"&url="+window.location.href,success:function(a){d.html(d.attr("data-text")).removeAttr("disabled"),$.isNumeric(a)?parseInt(a)>0&&(n=c.attr("success-redirect"),"undefined"!=typeof n&&n!==!1&&""!==n&&(window.location=n),c.find('input[type="text"]').val(""),c.find("textarea").val(""),c.find(".form-success").fadeIn(1e3),o.fadeOut(1e3),setTimeout(function(){p.fadeOut(500)},5e3)):(o.attr("original-error",o.text()),o.text(a).fadeIn(1e3),p.fadeOut(1e3))},error:function(a,b,c){o.attr("original-error",o.text()),o.text(c).fadeIn(1e3),p.fadeOut(1e3),d.html(d.attr("data-text")).removeAttr("disabled")}}));return!1}),$(".validate-required, .validate-email").on("blur change",function(){b($(this).closest("form"))}),$("form").each(function(){$(this).find(".form-error").length&&$(this).attr("original-error",$(this).find(".form-error").text())}),c("ref")&&$("form.form-email").append('<input type="text" name="referrer" class="hidden" value="'+c("ref")+'"/>'),/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)&&$("section").removeClass("parallax"),$(".disqus-comments").length){var d=$(".disqus-comments").attr("data-shortname");!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//"+d+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}()}if(document.querySelector("[data-maps-api-key]")&&!document.querySelector(".gMapsAPI")&&$("[data-maps-api-key]").length){var e=document.createElement("script"),f=$("[data-maps-api-key]:first").attr("data-maps-api-key");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key="+f+"&callback=initializeMaps",e.className="gMapsAPI",document.body.appendChild(e)}}),$(window).load(function(){"use strict";if($(".masonry").length){var a=document.querySelector(".masonry"),b=new Masonry(a,{itemSelector:".masonry-item"});b.on("layoutComplete",function(){mr_firstSectionHeight=$(".main-container section:nth-of-type(1)").outerHeight(!0),$(".filters.floating").length&&(setupFloatingProjectFilters(),updateFloatingFilters(),window.addEventListener("scroll",updateFloatingFilters,!1)),$(".masonry").addClass("fadeIn"),$(".masonry-loader").addClass("fadeOut"),$(".masonryFlyIn").length&&masonryFlyIn()}),b.layout()}var c=setInterval(function(){$(".tweets-slider").find("li.flex-active-slide").length?clearInterval(c):$(".tweets-slider").length&&$(".tweets-slider").flexslider({directionNav:!1,controlNav:!1})},500);mr_firstSectionHeight=$(".main-container section:nth-of-type(1)").outerHeight(!0)}),window.initializeMaps=function(){"undefined"!=typeof google&&"undefined"!=typeof google.maps&&$(".map-canvas[data-maps-api-key]").each(function(){var l,m,n,a=this,b="undefined"!=typeof $(this).attr("data-map-style")&&$(this).attr("data-map-style"),c=JSON.parse(b)||[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}],d="undefined"!=typeof $(this).attr("data-map-zoom")&&""!==$(this).attr("data-map-zoom")?1*$(this).attr("data-map-zoom"):17,e="undefined"!=typeof $(this).attr("data-latlong")&&$(this).attr("data-latlong"),f=!!e&&1*e.substr(0,e.indexOf(",")),g=!!e&&1*e.substr(e.indexOf(",")+1),h=new google.maps.Geocoder,i="undefined"!=typeof $(this).attr("data-address")&&$(this).attr("data-address").split(";"),j="We Are Here",k=$(document).width()>766,o={draggable:k,scrollwheel:!1,zoom:d,disableDefaultUI:!0,styles:c};void 0!=$(this).attr("data-marker-title")&&""!=$(this).attr("data-marker-title")&&(j=$(this).attr("data-marker-title")),void 0!=i&&""!=i[0]?h.geocode({address:i[0].replace("[nomarker]","")},function(b,c){if(c==google.maps.GeocoderStatus.OK){var d=new google.maps.Map(a,o);d.setCenter(b[0].geometry.location),i.forEach(function(a){var b;if(n={url:void 0==window.mr_variant?"img/mapmarker.png":"../img/mapmarker.png",size:new google.maps.Size(50,50),scaledSize:new google.maps.Size(50,50)},/(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)/.test(a))var c=a.split(","),e=new google.maps.Marker({position:{lat:1*c[0],lng:1*c[1]},map:d,icon:n,title:j,optimised:!1});else a.indexOf("[nomarker]")<0&&(b=new google.maps.Geocoder,b.geocode({address:a.replace("[nomarker]","")},function(a,b){b==google.maps.GeocoderStatus.OK&&(e=new google.maps.Marker({map:d,icon:n,title:j,position:a[0].geometry.location,optimised:!1}))}))})}else console.log("There was a problem geocoding the address.")}):void 0!=f&&""!=f&&0!=f&&void 0!=g&&""!=g&&0!=g&&(o.center={lat:f,lng:g},l=new google.maps.Map(a,o),m=new google.maps.Marker({position:{lat:f,lng:g},map:l,icon:n,title:j}))})},initializeMaps();var mr_cookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=c===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},removeItem:function(a,b,c){return!!this.hasItem(a)&&(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0)},hasItem:function(a){return!!a&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;c<b;c++)a[c]=decodeURIComponent(a[c]);return a}};